---
title: JUnit
language: java

basic_setup: |-
  ```java
  public class Adder {
    public int add(int a, int b) {
      return a + b;
    }
  }
  ```

  ```java
  import org.junit.Test;
  import static org.junit.Assert.assertEquals;

  public class AdderTest {
    @Test
    public void testAdd() throws Exception {
      Adder adder = new Adder();
      assertEquals(2, adder.add(1, 1));
    }
  }
  ```

# http://junit.org/junit4/javadoc/4.10/org/junit/package-summary.html
annotations:
  - name: '@Test'
    id: at-test
    desc: |-
      Tells JUnit that the `public void` method to which it is attached can be run as a test case.
  - name: '@Test(expected=Throwable)'
    id: at-test-expected
    desc: |-
      Causes a test method to succeed if and only if an exception of the specified class is thrown by the method.
  - name: '@Test(timeout=long)'
    id: at-test-timeout
    desc: |-
      Causes a test to fail if it takes longer than a specified amount of clock time (measured in milliseconds).

  - name: '@BeforeClass'
    id: at-before-class
    desc: |-
      Causes the annotated method to be run once before any of the test methods in the class.
  - name: '@Before'
    id: at-before
    desc: |-
      Causes the annotated method to be run before the `@Test` methods.

  - name: '@After'
    id: at-after
    desc: |-
      Causes the annotated method to be run after the `@Test` methods.
  - name: '@AfterClass'
    id: at-after-class
    desc: |-
      Causes the annotated method to be run once after all the tests in the class have been run.

  - name: '@Ignore([reason])'
    id: at-ignore
    desc: |-
      Methods annotated with `@Test` that are also annotated with `@Ignore` will not be executed as tests.

# http://junit.org/junit4/javadoc/4.10/org/junit/Assert.html
assertions:
  - name: 'assertEquals([message,] expected, actual)'
    id: assert-equals
    desc: |-
      Asserts that two values are equal.
  - name: 'assertEquals([message,] expected, actual, delta)'
    id: assert-equals-delta
    desc: |-
      Asserts that two doubles or floats are equal to within a positive delta.
  - name: 'assertArrayEquals([message,] expected, actual)'
    id: assert-array-equals
    desc: |-
      Asserts that two arrays are equal.
  - name: 'assertArrayEquals([message,] expected, actual, delta)'
    id: assert-array-equals-delta
    desc: |-
      Asserts that two double or float arrays are equal.

  - name: 'fail([message])'
    id: fail
    desc: |-
      Fails a test with optional message.

  - name: 'assertTrue([message,] boolean condition)'
    id: assert-true
    desc: |-
      Asserts that a condition is `true`.
  - name: 'assertFalse([message,] boolean condition)'
    id: assert-false
    desc: |-
      Asserts that a condition is `false`.

  - name: 'assertNull([message,] object)'
    id: assert-null
    desc: |-
      Asserts that an object is `null`.
  - name: 'assertNotNull([message,] object)'
    id: assert-not-null
    desc: |-
      Asserts that an object isn't `null`.

  - name: 'assertSame([message,] expected, actual)'
    id: assert-same
    desc: |-
      Asserts that two objects refer to the same object.
  - name: 'assertNotSame([message,] expected, actual)'
    id: assert-not-same
    desc: |-
      Asserts that two objects do not refer to the same object.

  - name: 'assertThat([message,] actual, matcher)'
    id: assert-that
    desc: |-
      Asserts that actual satisfies the condition specified by matcher.

# http://junit.org/junit4/javadoc/4.10/org/hamcrest/CoreMatchers.html
matchers:
  - name: 'is(matcher)'
    id: is-matcher
    desc: |-
      Decorates another `Matcher`, retaining the behavior but allowing tests to be slightly more expressive.

      `assertThat(actual, is(equalTo(expected)))`
  - name: 'is(value)'
    id: is-value
    desc: |-
      A shortcut to the frequently used `is(equalTo(value))`.

      `assertThat(actual, is(expected))`
  - name: 'is(type)'
    id: is-type
    desc: |-
      A shortcut to the frequently used `is(instanceOf(SomeClass.class))`.

      `assertThat(actual, is(Expected.class))`

  - name: 'not(matcher)'
    id: not-matcher
    desc: |-
      Inverts the rule.
  - name: 'not(value)'
    id: not-value
    desc: |-
      A shortcut to the frequently used `not(equalTo(value))`.

      `assertThat(actual, is(not(unexpected)))`

  - name: 'equalTo(operand)'
    id: equal-to
    desc: |-
      Is the value equal to another value?

  - name: 'isInstanceOf(type)'
    id: is-instance-of
    desc: |-
      Is the value an instance of a particular type?

  - name: 'describedAs(description, matcher, ... values)'
    id: described-as
    desc: |-
      Wraps an existing matcher and overrides the description when it fails.

  - name: 'allOf(... matchers)'
    id: all-of
    desc: |-
      Evaluates to true only if ALL of the passed in matchers evaluate to true.

  - name: 'anyOf(... matchers)'
    id: any-of
    desc: |-
      Evaluates to true if ANY of the passed in `matchers` evaluate to true.

  - name: 'anything([description])'
    id: anything
    desc: |-
      Always evaluates to true

  - name: 'any(type)'
    id: any
    desc: |-
      Always evaluates to true. With type inference.

  - name: 'nullValue([type])'
    id: null-value
    desc: |-
      Matches if value is null.

  - name: 'notNullValue([type])'
    id: not-null-value
    desc: |-
      Matches if value is not null.
---

<h1>{{ page.title }}</h1>

<p><a href="http://junit.org/junit4/">JUnit 4</a> can be used to test Java code.</p>

<h2>Basic Setup</h2>
{{ page.basic_setup | markdownify }}

<h2>Annotations</h2>
<dl>
{% for a in page.annotations %}
  <dt id="{{ a.id }}"><code>{{ a.name }}</code></dt><dd>{{ a.desc | markdownify }}</dd>
{% endfor %}
</dl>


<h2>Assertions</h2>
<p><code>org.junit.Assert</code> provides a set of static assertion methods useful for writing tests.</p>
<dl>
{% for a in page.assertions %}
  <dt id="{{ a.id }}"><code>{{ a.name }}</code></dt><dd>{{ a.desc | markdownify }}</dd>
{% endfor %}
</dl>

<h2>Matchers</h2>
<p>
<a href="http://junit.org/junit4/javadoc/4.10/org/hamcrest/CoreMatchers.html">Hamcrest CoreMatchers</a>
can be used with <code>assertThat</code> to specify the condition.
</p>
<dl>
{% for a in page.matchers %}
  <dt id="{{ a.id }}"><code>{{ a.name }}</code></dt><dd>{{ a.desc | markdownify }}</dd>
{% endfor %}
</dl>

{% comment %}

- <https://www.codewars.com/docs/java-test-reference>
- <https://www.qualified.io/kb/languages/java/junit>

- Fixed dead link
  - <http://junit-team.github.io/junit/javadoc/4.10/org/hamcrest/CoreMatchers.html>

- Removed best practice. This should go under tutorials
  - Changed Basic Setup example to be minimum

## Best practices

Writing JUnit tests Codewars is different than other environments.
Here are some tips:

* You are encouraged to output what you are testing when you test it.
  That way, the person doing the exercise has some visibility into what went wrong.
* Make randomized tests; try to test for _behavior_, rather than specific input/output pairs
* Try to use underscores rather than camel case, as it makes it easier to read the test runner results
* Try not to use the `assertTrue` test assertion, it's almost never informative to the person doing the exercise


```java
// Make sure your class is public
public class Calculator {
  public Double multiply(Double a, Double b) {
    return a * b;
  }
}
```

```java
import org.junit.Test;
import static org.junit.Assert.assertEquals;

public class CalculatorTest {
  @Test
  public void testAssociativityOfMultiplication() throws Exception {
    Calculator calc = new Calculator();
    // Try to test for behavior, rather than specific inputs
    // Otherwise people may try to cheat, and only program for exercise inputs!
    for (int i = 0; i < 100; i++) {
      Double a = Math.random();
      Double b = Math.random();
      Double c = Math.random();
      String message = String.format("(%g * %g) * %g == %g * (%g * %g)", a, b, c, a, b, c);
      assertEquals(message,
              calc.multiply(calc.multiply(a, b), c),
              calc.multiply(a, calc.multiply(b, c)),
              1E-14);
    }
  }
}
```
{% endcomment %}
